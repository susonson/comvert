<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>カタカナ多言語変換ツール</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
  </head>
  <body class="bg-gradient-to-br from-blue-50 to-purple-50 min-h-screen">
    <div id="root"></div>

    <script type="text/babel">
      const { useState } = React;

      const KatakanaMultiLangConverter = () => {
        const [input, setInput] = useState('');
        const [output, setOutput] = useState('');

        const conversionTable = {
          'キャ': { romaji: 'kya', hiragana: 'きゃ', katakana: 'キャ', hangul: '캬', cyrillic: 'кя' },
          'キュ': { romaji: 'kyu', hiragana: 'きゅ', katakana: 'キュ', hangul: '큐', cyrillic: 'кю' },
          'キョ': { romaji: 'kyo', hiragana: 'きょ', katakana: 'キョ', hangul: '쿄', cyrillic: 'кё' },
          'ア': { romaji: 'a', hiragana: 'あ', katakana: 'ア', hangul: '아', cyrillic: 'а' },
          'あ': { romaji: 'a', hiragana: 'あ', katakana: 'ア', hangul: '아', cyrillic: 'а' },
          'イ': { romaji: 'i', hiragana: 'い', katakana: 'イ', hangul: '이', cyrillic: 'и' },
          'い': { romaji: 'i', hiragana: 'い', katakana: 'イ', hangul: '이', cyrillic: 'и' },
          'ウ': { romaji: 'u', hiragana: 'う', katakana: 'ウ', hangul: '우', cyrillic: 'у' },
          'う': { romaji: 'u', hiragana: 'う', katakana: 'ウ', hangul: '우', cyrillic: 'у' },
          'エ': { romaji: 'e', hiragana: 'え', katakana: 'エ', hangul: '에', cyrillic: 'э' },
          'え': { romaji: 'e', hiragana: 'え', katakana: 'エ', hangul: '에', cyrillic: 'э' },
          'オ': { romaji: 'o', hiragana: 'お', katakana: 'オ', hangul: '오', cyrillic: 'о' },
          'お': { romaji: 'o', hiragana: 'お', katakana: 'オ', hangul: '오', cyrillic: 'о' },
          'ン': { romaji: 'n', hiragana: 'ん', katakana: 'ン', hangul: 'ㄴ', cyrillic: 'н' },
          'ん': { romaji: 'n', hiragana: 'ん', katakana: 'ン', hangul: 'ㄴ', cyrillic: 'н' },
        };

        const convertText = (text) => {
          let result = '';
          let i = 0;
          while (i < text.length) {
            const twoChars = text.slice(i, i + 2);
            const oneChar = text[i];
            if (twoChars.length === 2 && conversionTable[twoChars]) {
              const scripts = ['romaji', 'hiragana', 'katakana', 'hangul', 'cyrillic'];
              const randomScript = scripts[Math.floor(Math.random() * scripts.length)];
              result += conversionTable[twoChars][randomScript];
              i += 2;
            } else if (conversionTable[oneChar]) {
              const scripts = ['romaji', 'hiragana', 'katakana', 'hangul', 'cyrillic'];
              const randomScript = scripts[Math.floor(Math.random() * scripts.length)];
              result += conversionTable[oneChar][randomScript];
              i += 1;
            } else {
              result += oneChar;
              i += 1;
            }
          }
          return result;
        };

        const handleConvert = () => {
          setOutput(convertText(input));
        };

        return (
          <div className="max-w-2xl mx-auto p-8">
            <h1 className="text-3xl font-bold text-center mb-8 text-gray-800">
              カタカナ多言語変換ツール
            </h1>
            <div className="bg-white rounded-lg shadow-lg p-6 mb-6">
              <label className="block text-sm font-medium text-gray-700 mb-2">
                カタカナまたはひらがなを入力してください
              </label>
              <textarea
                value={input}
                onChange={(e) => setInput(e.target.value)}
                className="w-full h-32 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"
                placeholder="例: コンニチハ、キャラ、さくら"
              />
              <button
                onClick={handleConvert}
                className="mt-4 w-full bg-blue-500 hover:bg-blue-600 text-white font-semibold py-3 px-6 rounded-lg transition duration-200 shadow-md"
              >
                変換する
              </button>
            </div>
            {output && (
              <div className="bg-white rounded-lg shadow-lg p-6">
                <label className="block text-sm font-medium text-gray-700 mb-2">
                  変換結果（多言語ミックス）
                </label>
                <div className="w-full min-h-32 p-4 bg-gray-50 border border-gray-300 rounded-lg">
                  <p className="text-2xl leading-relaxed break-words">{output}</p>
                </div>
                <p className="mt-4 text-sm text-gray-600">
                  ※ 各文字がランダムに「ローマ字・ひらがな・カタカナ・ハングル・キリル文字」のいずれかに変換されます
                </p>
              </div>
            )}
          </div>
        );
      };

      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(<KatakanaMultiLangConverter />);
    </script>
  </body>
</html>
